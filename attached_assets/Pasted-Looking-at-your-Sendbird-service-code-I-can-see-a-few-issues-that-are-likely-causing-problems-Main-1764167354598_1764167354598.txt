Looking at your Sendbird service code, I can see a few issues that are likely causing problems.
Main Issues:

API Token Header Missing - The Sendbird Platform SDK requires the API token to be passed in the headers, but the way you're passing it looks incorrect. The SDK typically expects configuration to be set up differently.
Incorrect API Method Signatures - The method calls like userApi.createUser(apiToken, {...}) don't match how the Sendbird SDK actually works. The API token should be configured on the client, not passed as a first parameter.
CreateUserData Constructor - The constructor parameters may not be in the correct order or format.

Here's a corrected version:
typescriptimport SendbirdPlatformSdk from 'sendbird-platform-sdk';

const appId = process.env.SENDBIRD_APP_ID;
const apiToken = process.env.SENDBIRD_API_TOKEN;

const isConfigured = !!(appId && apiToken);

let userApi: SendbirdPlatformSdk.UserApi | null = null;
let groupChannelApi: SendbirdPlatformSdk.GroupChannelApi | null = null;

if (isConfigured) {
  // Create API client with proper configuration
  const apiClient = new SendbirdPlatformSdk.ApiClient();
  apiClient.basePath = `https://api-${appId}.sendbird.com`;
  
  // Set the API token in default headers
  apiClient.defaultHeaders = {
    'Api-Token': apiToken
  };
  
  userApi = new SendbirdPlatformSdk.UserApi(apiClient);
  groupChannelApi = new SendbirdPlatformSdk.GroupChannelApi(apiClient);
  
  console.log('[Sendbird] Successfully configured');
} else {
  console.warn('[Sendbird] Not configured - SENDBIRD_APP_ID and SENDBIRD_API_TOKEN not set');
}

export interface SendbirdUserParams {
  userId: string;
  nickname: string;
  profileUrl?: string;
}

export class SendbirdService {
  static async createOrUpdateUser(params: SendbirdUserParams): Promise<any> {
    if (!isConfigured || !userApi) {
      console.warn('[Sendbird] Skipping user creation - not configured');
      return null;
    }
    
    try {
      const createUserData: SendbirdPlatformSdk.CreateUserData = {
        userId: params.userId,
        nickname: params.nickname,
        profileUrl: params.profileUrl || ''
      };
      
      const data = await userApi.createUser(createUserData);
      console.log(`[Sendbird] Created user: ${params.userId}`);
      return data;
    } catch (error: any) {
      // User already exists - try updating
      if (error.status === 400 && error.body?.code === 400202) {
        try {
          const updateUserData: SendbirdPlatformSdk.UpdateUserByIdData = {
            nickname: params.nickname,
            profileUrl: params.profileUrl || ''
          };
          
          const data = await userApi.updateUserById(params.userId, updateUserData);
          console.log(`[Sendbird] Updated user: ${params.userId}`);
          return data;
        } catch (updateError) {
          console.error('[Sendbird] Error updating user:', updateError);
          throw updateError;
        }
      } else {
        console.error('[Sendbird] Error creating user:', error);
        throw error;
      }
    }
  }

  static async generateSessionToken(userId: string): Promise<string> {
    if (!isConfigured || !userApi) {
      throw new Error('Sendbird not configured');
    }
    
    try {
      const response = await userApi.createSessionToken(userId, {});
      console.log('[Sendbird] Token response:', JSON.stringify(response));
      
      const token = response?.token;
      
      if (!token) {
        throw new Error('No token in response');
      }
      
      return token;
    } catch (error: any) {
      console.error('[Sendbird] Error generating session token:', error);
      throw error;
    }
  }

  static async createChannel(userIds: string[], channelUrl?: string): Promise<any> {
    if (!isConfigured || !groupChannelApi) {
      console.warn('[Sendbird] Skipping channel creation - not configured');
      return null;
    }
    
    try {
      const createChannelData: SendbirdPlatformSdk.GcCreateChannelData = {
        userIds: userIds,
        isDistinct: true,
        customType: 'fusion_match',
        channelUrl: channelUrl
      };
      
      const data = await groupChannelApi.gcCreateChannel(createChannelData);
      console.log(`[Sendbird] Created channel for users: ${userIds.join(', ')}`);
      return data;
    } catch (error: any) {
      console.error('[Sendbird] Error creating channel:', error);
      throw error;
    }
  }

  static async getChannel(channelUrl: string): Promise<any> {
    if (!isConfigured || !groupChannelApi) {
      throw new Error('Sendbird not configured');
    }
    
    try {
      const data = await groupChannelApi.gcViewChannelByUrl(channelUrl);
      return data;
    } catch (error) {
      console.error('[Sendbird] Error getting channel:', error);
      throw error;
    }
  }

  static async deleteUser(userId: string): Promise<void> {
    if (!isConfigured || !userApi) {
      throw new Error('Sendbird not configured');
    }
    
    try {
      await userApi.deleteUserById(userId);
      console.log(`[Sendbird] Deleted user: ${userId}`);
    } catch (error) {
      console.error('[Sendbird] Error deleting user:', error);
      throw error;
    }
  }
}
Key changes:

Created a shared ApiClient instance with the API token set in defaultHeaders
Removed apiToken from individual method calls (it's now in the client config)
Changed from constructor-based data objects to plain objects with type annotations
Changed createUserToken to createSessionToken (the correct method name)